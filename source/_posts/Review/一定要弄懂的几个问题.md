---
title: 一定要弄懂的几个问题
comments: true
date: 2019-08-22 11:42:54
categories: ['JS']
tags: JS
---


1. new 操作符  和 Object.create()
* new 
```js
var Fn = function () { };
var obj = new Fn();

function _new(Fn) {
  var obj = new Object() // {}  创建一个空对象
  obj.__prototype__ = Fn.prototype  // 设置原型链
  var ret = Fn.call(obj)  // 让Fn的this指向obj，并执行Fn的函数体
  if(typeof ret === 'Object') {   // 判断Fn的返回值类型，如果是引用类型，就返回这个引用类型的对象; 如果是值类型，返回obj
    return ret
  }
  return obj
}
```

* Objec.create
```js
Objec.create = function(obj, props) {
  var Fn = function() {}
  Fn.prototype = obj
  if(props) {
    Object.defineProperties(Fn, props)
  }
  return new Fn()
}
```
